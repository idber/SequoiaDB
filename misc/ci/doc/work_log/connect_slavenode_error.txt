【发生时间】2017-01-22
【问题描述】master节点连不上slave节点
【解决办法】网卡问题

【问题详情】
1、某个slave节点重启后，在[节点管理]中，连接不上该slave节点
[01/22/17 10:34:41] [SSH] Opening SSH connection to 192.168.20.191:22.
Connection timed out
ERROR: Unexpected error in launching a slave. This is probably a bug in Jenkins.
java.lang.IllegalStateException: Connection is not established!
   at com.trilead.ssh2.Connection.getRemainingAuthMethods(Connection.java:1030)
   at com.cloudbees.jenkins.plugins.sshcredentials.impl.TrileadSSHPasswordAuthenticator.canAuthenticate(TrileadSSHPasswordAuthenticator.java:82)
   at com.cloudbees.jenkins.plugins.sshcredentials.SSHAuthenticator.newInstance(SSHAuthenticator.java:212)
   at com.cloudbees.jenkins.plugins.sshcredentials.SSHAuthenticator.newInstance(SSHAuthenticator.java:172)
   at hudson.plugins.sshslaves.SSHLauncher.openConnection(SSHLauncher.java:1212)
   at hudson.plugins.sshslaves.SSHLauncher$2.call(SSHLauncher.java:711)
   at hudson.plugins.sshslaves.SSHLauncher$2.call(SSHLauncher.java:706)
   at java.util.concurrent.FutureTask.run(FutureTask.java:262)
   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
   at java.lang.Thread.run(Thread.java:745)
[01/22/17 10:37:50] Launch failed - cleaning up connection
[01/22/17 10:37:50] [SSH] Connection closed.


【解决过程】
前提：master节点ip 192.168.30.185  
      slave节点ip  192.168.20.192
      
2、在30.185的jenkins用户上，尝试ssh 192.168.20.192 jenkins用户，连不上
jenkins-master:/home/jenkins # ssh jenkins@192.168.20.192
ssh: connect to host 192.168.20.192 port 22: Connection timed out

3、尝试连接到root用户
jenkins-master:/home/jenkins # ssh root@192.168.20.192
ssh: connect to host 192.168.20.192 port 22: Connection timed out
连接失败，说明与用户无关

4、30.185尝试ping主机20.192，ping不通

5、在20.192查看网络
jenkins@ci-test-suse2:~> ifconfig
eth0      Link encap:Ethernet  HWaddr 00:50:56:9D:79:F2  
          inet addr:192.168.20.192  Bcast:192.168.20.255  Mask:255.255.255.0
          ……

eth2      Link encap:Ethernet  HWaddr 00:50:56:9D:79:F2  
          inet addr:192.168.30.192  Bcast:192.168.20.255  Mask:255.255.255.0
          ……
发现有两张网卡，对应不同的ip

6、找网络管理员删除多余的网卡2




